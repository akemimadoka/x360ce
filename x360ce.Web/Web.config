<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
	<appSettings>
		<add key="ChartImageHandler" value="storage=file;timeout=20;dir=c:\Temp\;" />
		<add key="OverridePrograms" value="~/Files/x360ce_Games.xml" />
		<add key="Security_Administrators" value="" />
		<add key="Security_PowerUsers" value="" />
		<add key="Security_DefaultRole" value="x360ceUsers" />
		<add key="Security_LoginRememberMinutes" value="10080" />
		<add key="Security_AllowUsersToResetPassword" value="True" />
		<add key="Security_AllowUsersToSignUp" value="True" />
		<add key="Security_AllowUsersToLogin" value="False" />
		<add key="Security_RequiredFields" value="UserName,Password,Email,Terms" />
		<add key="Security_OptionalFields" value="FirstName,LastName" />
		<add key="RunMode" value="TEST" />
		<add key="SmtpServer" value="mail.x360ce.com" />
		<add key="SmtpFrom" value="info@x360ce.com" />
		<add key="ErrorRecipients" value="info@x360ce.com" />
		<add key="ErrorNotifications" value="True" />
		<add key="AppEncryptionHmacHashKey" value="Developer1234" />
		<add key="CloudHmacHashKey" value="CloudHmac" />
		<add key="CloudRsaPublicKey" value="BgIAAACkAABSU0ExAAgAAAEAAQBpOYlmBiOd8f/GV7jAQzP4d5HO7FFuqqug5ZDo9VGGe1tO99YXUysnEOKJhbnhDT/DbxcHSFF5bBHhWXZu3kKSrT5G288PYSzCFix4qIHVoj13mpsNFW1xtIaTRbbYwrZ4EGowta8dNCi9WYow6ML53ii2zXcEBFP3xUnYSHSuHbEpbOTaIlfs1Y+Vwsamt+BZf0Kct3i+8VKrSF3LM+gFN0IcHuWDcXioHpG5xv1mpfh5Y1Mch9klNdf8KvIsf2qdiP0BgcIy7994Wqteaip2hgoj/BC6ceyNm/WFNtK+YVvm7sblj6UiFqEo6ywXjGoLMr7UI1UVxHGFIbLWzwe8" />
		<add key="CloudRsaPrivateKey" value="BwIAAACkAABSU0EyAAgAAAEAAQBpOYlmBiOd8f/GV7jAQzP4d5HO7FFuqqug5ZDo9VGGe1tO99YXUysnEOKJhbnhDT/DbxcHSFF5bBHhWXZu3kKSrT5G288PYSzCFix4qIHVoj13mpsNFW1xtIaTRbbYwrZ4EGowta8dNCi9WYow6ML53ii2zXcEBFP3xUnYSHSuHbEpbOTaIlfs1Y+Vwsamt+BZf0Kct3i+8VKrSF3LM+gFN0IcHuWDcXioHpG5xv1mpfh5Y1Mch9klNdf8KvIsf2qdiP0BgcIy7994Wqteaip2hgoj/BC6ceyNm/WFNtK+YVvm7sblj6UiFqEo6ywXjGoLMr7UI1UVxHGFIbLWzwe8ZbvirItJLy1egZ64LzpM2tRGDjY7GA0UHIkF+f0+yigju9PAvS09ke/5Uv//k3smgFyHL3KWt9BjxGEQ22nk82RFImy8OO+c6e6knZvZl7D2SVXAuJhrp0+CY4Jm2pCXSMlYwWSizV3e4q1OLGpPrLTGL5fhlUBa35pF0lr4x/O1n4u4OONnQvxgDjCVxEfHPA/D236R0aJOrjAyHJAH5s6M24jnjeYd9UOOBjH6/nw4ddxW/V07sdcIbJUeIQwcnuuwppnXAwDb2RBO2cWsJHfdhOydIzP19/bD/NUHI4CBK7XGBy69r9Zd3ET/h8bc7netTULS+GVXWcKcFH10xeFnvcpaRgZjjbg3zQZ5rHkLzu7b/BlhZC18bOrPG24IBCyqGbvjeEJbPYp8CuMfC7yIpSvCbwzjgt/3PZgL6Tkt9Ujq4ScTSbGdTnzW9puusLtCJTymWxc5u7lmbdd6fz36zcnxHRU4oxVdyQrfkP2jVlbQHSXPlW2UL4PeCySXHQDeGwoIDa+7WAZGPgAsShDskUTXl4LRd0Hlfgz0jwFB98Lt59Kt/0bxsT5CEdIAkzPYLRa/j/lZ/XsPfteCIIL5+eoRJIdHzHefj1jiTF/yhBvx+LLPokrxUHSnLHFkCXC9gUNuMoqDCS2T8I6MFNCHA+Uw1SlX1wE2P8VzYXx91/qlakiUMwMmUdf/Kfv7ZpnHeX0Mv+WFzDtFZYHCUWolEZ8N/ZNiV2RwvDSNyv8B8/ggYvce2uMZ35WiUQjybB5w630ZUCYKZEhtgMMAfWwDkJ2/V1Z46eLUu5SUoS1lTTyvX903xE9qIpTx9rvSdEvW9y2qIKoSuUSKgW87h/GL3NOupvlIM4EgsDCh+UuK2tVIjlO8tErW5+udQgib30RRdk8heMfUIlTSoZ+QmDsILzPaO9xir4lTaNZvxpaPpwdkL+BohRFyfpMZgnmZTPh+mg4ZdOatMRxH1pFEdSneUsVDoZIYT1K/2SiQHJpnHpPCmeeLMxmBMLySVzwkRtM/Y5yOs3gVqLoALRSxz1q93p+bivFClaNlnT5K0YJLKIhNMfFe9gIGjaEpJ3Bz0iHkazSXgKUulfRwL9JtWQuLiMcNKtuHjPaZ7oPxJ+vmFlY+Kk6OPOZEls2efMGsKfhvypduandLKPXmYP0S4xHVJAjQwr6aTAyIF2Pj1xg=" />
	</appSettings>
	<!-- Allow Authorization -->
	<location path="Security/Admin">
		<system.web>
			<authorization>
				<allow roles="Administrators" />
				<deny users="*" />
			</authorization>
		</system.web>
	</location>
	<system.web>
		<customErrors mode="Off" />
		<httpHandlers>
			<add path="ChartImg.axd" verb="GET,HEAD,POST" type="System.Web.UI.DataVisualization.Charting.ChartHttpHandler, System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" validate="false" />
		</httpHandlers>
		<compilation debug="true" targetFramework="4.0">
			<assemblies>
				<add assembly="System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
				<add assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
			</assemblies>
		</compilation>
		<!--
		The <authentication> section enables configuration 
		of the security authentication mode used by 
		ASP.NET to identify an incoming user. 
		-->
		<authentication mode="Forms">
			<forms name=".X360CE_AUTH" loginUrl="Login.aspx" protection="All" path="/" timeout="30" slidingExpiration="true" />
		</authentication>
		<!-- 
			Configures keys to use for encryption and decryption of forms authentication cookie
			data and view state data, and for verification of out-of-process session state
			identification. This section can be declared at the machine, site, and application
			levels, but not at the subdirectory level.
			-->
		<machineKey validationKey="032ABA2D2134D388BB4560DAE2BFB15403048909DFCBFD2716EB25091BC10EB7F0B47054CB841688569511CCAF02D90F165D6BF97DF0E8EA28B105C31FD33A70" decryptionKey="6CBBB7ECB3E9F931B899335A5FF53A2C7AF0A0D702F592C4" validation="SHA1" />
		<membership userIsOnlineTimeWindow="60" defaultProvider="AspNetSqlMembershipProvider">
			<!-- http://msdn2.microsoft.com/en-us/library/system.web.security.sqlmembershipprovider_properties.aspx -->
			<providers>
				<clear />
				<add name="AspNetSqlMembershipProvider" applicationName="/"
					connectionStringName="JocysCom.WebSites.Engine.Properties.Settings.DefaultConnectionString"
					type="System.Web.Security.SqlMembershipProvider, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
					passwordFormat="Encrypted"
					enablePasswordRetrieval="true"
					enablePasswordReset="true"
					maxInvalidPasswordAttempts="64"
					passwordAttemptWindow="128"
					minRequiredPasswordLength="1"
					minRequiredNonalphanumericCharacters="0"
					requiresQuestionAndAnswer="false"
					requiresUniqueEmail="true"
				/>
			</providers>
		</membership>
		<profile>
			<providers>
				<clear />
				<add name="AspNetSqlProfileProvider"  applicationName="/"
					connectionStringName="JocysCom.WebSites.Engine.Properties.Settings.DefaultConnectionString"
					type="System.Web.Profile.SqlProfileProvider, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
				/>
			</providers>
		</profile>
		<roleManager enabled="true">
			<providers>
				<clear />
				<add
					name="AspNetSqlRoleProvider" applicationName="/"
					connectionStringName="JocysCom.WebSites.Engine.Properties.Settings.DefaultConnectionString"
					type="System.Web.Security.SqlRoleProvider, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
				/>
				<!-- add name="AspNetWindowsTokenRoleProvider" applicationName="/"
					type="System.Web.Security.WindowsTokenRoleProvider, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
				/ -->
			</providers>
		</roleManager>
		<pages>
			<controls>
				<add tagPrefix="asp" namespace="System.Web.UI.DataVisualization.Charting" assembly="System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
			</controls>
		</pages>
		<webServices>
			<protocols>
				<add name="HttpPost" />
				<add name="HttpGet" />
			</protocols>
		</webServices>
	</system.web>
	<system.webServer>
		<modules runAllManagedModulesForAllRequests="true"></modules>
		<handlers>
			<remove name="UrlRoutingHandler" />
			<!--<add name="UrlRoutingHandler" preCondition="integratedMode" verb="*" path="UrlRouting.axd" type="System.Web.Routing.UrlRoutingHandler, System.Web.Routing, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>-->
			<!-- Replace 3.5  with 2.0 in order for DynamicData to work. -->
			<remove name="ChartImageHandler" />
			<add name="ChartImageHandler" preCondition="integratedMode" verb="GET,HEAD,POST" path="ChartImg.axd" type="System.Web.UI.DataVisualization.Charting.ChartHttpHandler, System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
		</handlers>
		<defaultDocument>
			<files>
				<remove value="default.aspx" />
				<remove value="iisstart.htm" />
				<remove value="index.html" />
				<remove value="index.htm" />
				<remove value="Default.asp" />
				<remove value="Default.htm" />
				<add value="Default.asp" />
				<add value="Default.aspx" />
				<add value="Default.htm" />
			</files>
		</defaultDocument>
		<rewrite>
			<rules>
				<clear />
				<rule name="To www" stopProcessing="true">
					<match url="(.*)" />
					<conditions logicalGrouping="MatchAll">
						<add input="{HTTP_HOST}" pattern="^[a-z]+\.(co\.uk|lt|com|eu)$" />
					</conditions>
					<action type="Redirect" url="{MapSSL:{HTTPS}}www.{HTTP_HOST}/{R:1}" redirectType="Permanent" />
				</rule>
				<rule name="To http://www.x360ce.com" stopProcessing="true">
					<match url="(.*)" />
					<conditions logicalGrouping="MatchAll">
						<add input="{HTTP_HOST}" pattern="^www\.xboxce\.com$" />
					</conditions>
					<action type="Redirect" url="http://www.x360ce.com/{R:1}" redirectType="Permanent" />
				</rule>
				<rule name="Redirect" stopProcessing="true">
					<match url="^Redirect/(.*)" />
					<conditions logicalGrouping="MatchAll" />
					<action type="Redirect" url="http://{R:1}" redirectType="Permanent" />
				</rule>
				<rule name="DebugTestFiles" stopProcessing="true">
					<match url="^Files/(.*beta\.zip)" />
					<conditions logicalGrouping="MatchAll" />
				</rule>
				<rule name="RedirectFiles" stopProcessing="true">
					<match url="^Files/(.*)" />
					<conditions logicalGrouping="MatchAll" />
					<action type="Redirect" url="https://github.com/x360ce/x360ce/blob/master/x360ce.Web/Files/{R:1}?raw=true" />
				</rule>
				<!--<rule name="To https://github.com/x360ce/x360ce" stopProcessing="true">
				  <match url="^$" />
				  <conditions logicalGrouping="MatchAll">
					<add input="{HTTP_HOST}" pattern="^www\.x360ce\.com$" />
				  </conditions>
				  <action type="Redirect" url="https://github.com/x360ce/x360ce" redirectType="Permanent" />
				</rule>-->
			</rules>
			<rewriteMaps>
				<rewriteMap name="MapSSL" defaultValue="OFF">
					<add key="ON" value="https://" />
					<add key="OFF" value="http://" />
				</rewriteMap>
			</rewriteMaps>
		</rewrite>
		<validation validateIntegratedModeConfiguration="false" />
	</system.webServer>
	<connectionStrings>
		<add name="JocysCom.WebSites.Engine.Properties.Settings.DefaultConnectionString" connectionString="Data Source=localhost;Initial Catalog=x360ce;User ID=x360ceAdmin;Password=localdev;" providerName="System.Data.SqlClient" />
		<add name="x360ceModelContainer" connectionString="metadata=res://*/Data.x360ceModel.csdl|res://*/Data.x360ceModel.ssdl|res://*/Data.x360ceModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=localhost;initial catalog=x360ce;persist security info=True;user id=x360ceAdmin;password=localdev;multipleactiveresultsets=True;App=EntityFramework&quot;" providerName="System.Data.EntityClient" />
		<add name="SecurityEntities" connectionString="metadata=res://*/JocysCom.Security.Data.SecurityModel.csdl|res://*/JocysCom.Security.Data.SecurityModel.ssdl|res://*/JocysCom.Security.Data.SecurityModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=localhost;initial catalog=x360ce;persist security info=True;user id=x360ceAdmin;password=localdev;multipleactiveresultsets=True;application name=EntityFramework&quot;" providerName="System.Data.EntityClient" />
	</connectionStrings>
</configuration>